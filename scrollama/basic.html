<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Scrollama: Basic Example</title>
    <meta name="description" content="Scrollama: Basic Example" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="stylesheet" href="hack.css" />
    <style>
        #intro {
            position: fixed;
            top: 0px;
            left: 0px;
            width: 100%;
            display: flex;
            align-content: center;
            align-items: center;
        }

        svg {
            margin: auto;

        }

        #scrolly {
            position: relative;
        }

        article {
            position: relative;
            padding: 0 1rem;
            margin: 0 auto;
            width: 33%;
        }

        .step {
            margin: 2rem auto 4rem auto;
            /*transform: translate3d(0, 250px, 0);*/
            transition: all 2s;
            padding-top:30vh;
            padding-bottom:30vh;
            opacity:0.3;
            background-color: white;
        }

        .step.animated {
           
            opacity: 1;
           
        }

        .step p {
            text-align: center;
            padding: 1rem;
            font-size: 1.5rem;
            color:black;
            border:1px solid black;
        }

        .step.animated p{
            background-color: black;
            color:white;
        }

      
    </style>
</head>

<body class="hack">

    <main>

        <section id="intro">
            <!-- SVG container -->

        </section>
        <section id="scrolly">
            <article>
                <div class="step animate__animated " data-step="1" >
                    <p>STEP 1</p>
                </div>
                <div class="step animate__animated " data-step="2" data-offset="0.5">
                    <p>STEP 2</p>
                </div>
                <div class="step animate__animated " data-step="3" data-offset="0.5">
                    <p>STEP 3</p>
                </div>
                <div class="step animate__animated " data-step="4" data-offset="0.5">
                    <p>STEP 4</p>
                </div>
            </article>
        </section>
        <section id="outro"></section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/scrollama/3.2.0/scrollama.js"></script>
    <script>
        //var scrolly = document.querySelector("#scrolly");
        var article = scrolly.querySelector("#scrolly article");
        var step = article.querySelectorAll(".step");

        // initialize the scrollama
        var scroller = scrollama();

        // scrollama event handlers
        function handleStepEnter(response) {
            // response = { element, direction, index }
            console.log(response);
            // add animation to current step
            response.element.classList.add("animated");
        }

        function handleStepExit(response) {
            // response = { element, direction, index }
            // console.log(response);
            // remove animation from current step
            response.element.classList.remove("animated");
        }

        function init() {
            

            // 1. setup the scroller with the bare-bones options
            // 		this will also initialize trigger observations
            // 2. bind scrollama event handlers (this can be chained like below)
            scroller
                .setup({
                    step: "#scrolly article .step",
                    debug: false,
                    offset: 0.5
                })
                .onStepEnter(handleStepEnter)
                .onStepExit(handleStepExit);

        }

        // kick things off
        init();
    </script>
</body>

</html>